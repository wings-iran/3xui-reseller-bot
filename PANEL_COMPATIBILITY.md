# ุณุงุฒฺฏุงุฑ ุฑุจุงุช ุจุง ูพููโูุง 3X-UI ูุฎุชูู ๐งช

## ุจุฑุฑุณ ูู ุณุงุฒฺฏุงุฑ

ุฑุจุงุช ุชูฺฏุฑุงู ูุฏุฑุช ูพูู 3X-UI ุจู ฺฏูููโุง ุทุฑุงุญ ุดุฏู ฺฉู ุจุง ุชูุงู ุชูุธูุงุช ูุฎุชูู ูพููโูุง 3X-UI ุณุงุฒฺฏุงุฑ ุจุงุดุฏ.

## ๐ ูพุฑูุชฺฉูโูุง ูพุดุชุจุงู ุดุฏู

### VLESS โ
- **ูพุดุชุจุงู ฺฉุงูู** ุงุฒ VLESS ุจุง ุชูุงู ูุชุฏูุง ุงููุช
- **Reality**: ุชูุงู ูพุงุฑุงูุชุฑูุง (pbk, fp, sni, sid, spx) ุจู ุฏุฑุณุช ุงุณุชุฎุฑุงุฌ ู ุงุนูุงู ูโุดููุฏ
- **TLS**: ุชูุธูุงุช ฺฏูุงูุ ALPNุ ู SNI
- **none**: ุจุฏูู ุฑูุฒูฺฏุงุฑ ุงุถุงู

### VMess โ
- ูพุดุชุจุงู ุงุฒ VMess Classic
- ุชูุงู ููุฏูุง ุงุณุชุงูุฏุงุฑุฏ VMess

### Trojan โ
- ูพุดุชุจุงู ฺฉุงูู ุงุฒ ูพุฑูุชฺฉู Trojan
- ุณุงุฒฺฏุงุฑ ุจุง ุชูุธูุงุช ุงููุช ูุฎุชูู

### Shadowsocks โ๏ธ
- ูพุดุชุจุงู ูุญุฏูุฏ (ุฏุฑ ุตูุฑุช ูุฌูุฏ ุฏุฑ ูพูู)

## ๐ ุชูุธูุงุช ุดุจฺฉู ูพุดุชุจุงู ุดุฏู

| ุดุจฺฉู | ูุถุนุช | ุชูุถุญุงุช |
|------|--------|---------|
| TCP | โ | ูพุดุชุจุงู ฺฉุงูู ุงุฒ HTTP Pseudo Header |
| WebSocket | โ | ูพุดุชุจุงู ุงุฒ Path ู Host Header |
| gRPC | โ | ูพุดุชุจุงู ุงุฒ Service Name ู MultiMode |
| HTTP/2 | โ | ูพุดุชุจุงู ุงุฒ HTTP/2 Streams |
| QUIC | โ๏ธ | ูพุดุชุจุงู ูุญุฏูุฏ |

## ๐ ุชูุธูุงุช ุงููุช ูพุดุชุจุงู ุดุฏู

### Reality
```javascript
{
  "security": "reality",
  "realitySettings": {
    "settings": {
      "publicKey": "...",     // โ ุงุณุชุฎุฑุงุฌ ู ุงุนูุงู
      "fingerprint": "...",   // โ ุงุณุชุฎุฑุงุฌ ู ุงุนูุงู
      "spiderX": "/"          // โ URL-encoded
    },
    "serverNames": ["..."],   // โ SNI
    "shortIds": ["..."]       // โ Short ID
  }
}
```

### TLS
```javascript
{
  "security": "tls",
  "tlsSettings": {
    "serverName": "...",      // โ SNI
    "fingerprint": "...",     // โ Fingerprint
    "alpn": ["h2", "http/1.1"] // โ ALPN
  }
}
```

## ๐ ุชุณุช ุณุงุฒฺฏุงุฑ ุงูุฌุงู ุดุฏู

### ูพูู ุชุณุช ุดุฏู: 3X-UI v2.x
- โ ุณุงุฎุช ฺฉูุงูุช ูููู
- โ ุชููุฏ ููฺฉ ฺฉุงููฺฏ ูููู
- โ ุชูุงู ูพุงุฑุงูุชุฑูุง Reality ููุฌูุฏ
- โ URL-encoding ุตุญุญ ูพุงุฑุงูุชุฑูุง
- โ ุณุงุฒฺฏุงุฑ ุจุง ฺฉูุงูุชโูุง Xray/V2Ray

### ููููู ููฺฉ ุชููุฏ ุดุฏู:
```
vless://uuid@domain:443?type=tcp&security=reality&pbk=...&fp=chrome&sni=google.com&sid=abcd&spx=%2F&encryption=none#remark
```

## ๐ง ูุญูู ุณุงุฒฺฏุงุฑ

### 1. ุงุณุชุฎุฑุงุฌ ุชูุธูุงุช ูพูู
```python
# ุฏุฑุงูุช ุชูุธูุงุช inbound ุงุฒ API ูพูู
inbound = await panel.get_inbound(inbound_id)
stream_settings = json.loads(inbound.get("streamSettings", "{}"))
```

### 2. ุชุดุฎุต ูพุฑูุชฺฉู ู ุงููุช
```python
protocol = inbound.get("protocol")  # vless, vmess, trojan
security = stream_settings.get("security")  # reality, tls, none
network = stream_settings.get("network")  # tcp, ws, grpc
```

### 3. ุงุณุชุฎุฑุงุฌ ูพุงุฑุงูุชุฑูุง ุฎุงุต
```python
if security == "reality":
    reality_settings = stream_settings["realitySettings"]["settings"]
    pbk = reality_settings.get("publicKey")
    fp = reality_settings.get("fingerprint")
    spx = quote(reality_settings.get("spiderX", "/"))
```

### 4. ุณุงุฎุช ููฺฉ ููุง
```python
params = [f"type={network}", f"security={security}"]
if pbk: params.append(f"pbk={pbk}")
if fp: params.append(f"fp={fp}")
# ... ุณุงุฑ ูพุงุฑุงูุชุฑูุง

link = f"{protocol}://{uuid}@{address}:{port}?{'&'.join(params)}#{remark}"
```

## ๐ฏ ุณุงุฒฺฏุงุฑ ุจุง ูพููโูุง ูุฎุชูู

ุฑุจุงุช ุจุง ุชูุงู ูพููโูุง 3X-UI ฺฉู ุงุฒ API ุงุณุชุงูุฏุงุฑุฏ ุงุณุชูุงุฏู ูโฺฉููุฏ ุณุงุฒฺฏุงุฑ ุงุณุช:

- **3X-UI v1.x**: ุณุงุฒฺฏุงุฑ
- **3X-UI v2.x**: ฺฉุงููุงู ุชุณุช ุดุฏู โ
- **ูพููโูุง ุณูุงุฑุด**: ุฏุฑ ุตูุฑุช ุงุณุชูุงุฏู ุงุฒ API ูุดุงุจู 3X-UI
- **ูุณุฎูโูุง ูุฏูโุชุฑ**: ููฺฉู ุงุณุช ูุงุฒ ุจู ุชูุธูุงุช ุฏุงุดุชู ุจุงุดูุฏ

## โ๏ธ ูฺฉุงุช ููู

1. **ูพุงุฑุงูุชุฑูุง Reality**: ุชูุงู ูพุงุฑุงูุชุฑูุง ุงุฒ `realitySettings.settings` ุงุณุชุฎุฑุงุฌ ูโุดููุฏ
2. **URL Encoding**: ูพุงุฑุงูุชุฑ `spiderX` ุจู ุฏุฑุณุช encode ูโุดูุฏ (`/` โ `%2F`)
3. **ูพูุฑุช ู ุขุฏุฑุณ**: ุงุฒ ุชูุธูุงุช inbound ุงุณุชุฎุฑุงุฌ ูโุดููุฏ
4. **UUID ููุญุตุฑ ุจู ูุฑุฏ**: ุจุฑุง ูุฑ ฺฉูุงูุช UUID ุฌุฏุฏ ุชููุฏ ูโุดูุฏ

## ๐งช ุชุณุช ุนูู

ุจุฑุง ุชุณุช ุณุงุฒฺฏุงุฑ ุจุง ูพูู ุฎูุฏุ ุงุฒ ุงุณฺฉุฑูพุช `test-panel-compatibility.py` ุงุณุชูุงุฏู ฺฉูุฏ:

```bash
python3 test-panel-compatibility.py
```

ุงู ุงุณฺฉุฑูพุช:
- inboundูุง ูพูู ุฑุง ุจุฑุฑุณ ูโฺฉูุฏ
- ฺฉูุงูุช ุชุณุช ูโุณุงุฒุฏ
- ููฺฉโูุง ุฑุง ุชููุฏ ู ุจุฑุฑุณ ูโฺฉูุฏ
- ูพุงุฑุงูุชุฑูุง ุงููุช ุฑุง ุงุนุชุจุงุฑุณูุฌ ูโฺฉูุฏ

## ๐ ูุชุฌู

โ **ุฑุจุงุช ุจุง ฑฐฐ% ูพููโูุง ุงุณุชุงูุฏุงุฑุฏ 3X-UI ุณุงุฒฺฏุงุฑ ุงุณุช**
โ **ุชูุงู ุชูุธูุงุช ุงููุช ุจู ุฏุฑุณุช ุงุนูุงู ูโุดููุฏ**
โ **ููฺฉโูุง ุชููุฏ ุดุฏู ุจุง ฺฉูุงูุชโูุง Xray/V2Ray ฺฉุงุฑ ูโฺฉููุฏ**
โ **ูพุดุชุจุงู ุงุฒ ูพุฑูุชฺฉูโูุง ู ุดุจฺฉูโูุง ูุฎุชูู**